{% load wagtailcore_tags nettes_datum srcset wagtailimages_tags stuff humanize cache %}

{% cache 36000 page object.id object.latest_revision_created_at object.feed_image.updated_at %}
  <div class="bigcard click-area hover-reveal">

    <div class="bigcard__inner">

      <a class="click-area__area-link" href="{% pageurl object %}"
         itemprop="url" title="{{ object.title }}">
        {{ object.title }}
      </a>

      {% if object.feed_image %}
        {% image object.feed_image fill-300x150 as image %}
        <img class="bigcard__image"
             srcset="{{ object.feed_image|srcset:'fill-300x150 fill-600x300 fill-900x450 fill-1200x600' }}"
             sizes="18.75em"
             src="{{ image.url }}" alt="{{ image.alt }}">
        {% image object.feed_image original as orig_image %}
        <link itemprop="image" href="{{ orig_image.url }}">
      {% else %}
        <div class="bigcard__image-placeholder bigcard__image-placeholder--color-{{ object.color }}"></div>
      {% endif %}

      <div class="bigcard__content">
        <h2 class="bigcard__title" itemprop="name">{{ object.hyphenated_title|safe }}</h2>
        {% if object.subtitle %}
          <p class="bigcard__subtitle">{{ object.subtitle }}</p>
        {% elif object.get_description %}
          <p class="bigcard__text">{{ object.get_description }}</p>
        {% endif %}
      </div>

      <div class="bigcard__footer hover-reveal__hidden">
        <a href="{% pageurl object %}" class="bigcard__button">Weiterlesen</a>
      </div>

    </div>

  </div>
{% endcache %}
