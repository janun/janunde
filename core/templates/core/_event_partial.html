{% load wagtailcore_tags nettes_datum srcset wagtailimages_tags %}


<div class="panel event hover-reveal">

  <div class="remove-panel-padding--on-sides remove-panel-padding--on-top margin-bottom-1">
    <div class="image overlay overlay--white-box2">
      <a href="{% pageurl event %}">
        {% if event.main_image %}
          {% image event.main_image fill-300x113 jpg as fallback_image %}
          <img src="{{ fallback_image.url }}"
            srcset="{{ event.main_image|srcset:'fill-300x113|jpg fill-600x226|jpg' }}"
            sizes="(min-width: 60em) 19em, 100vw"
            alt="{{ fallback_image.alt }}">
        {% else %}
          <div class="image-placeholder" style="background-color: {{ event.color|default:"#62e6c8" }}">
            {% for x in ""|ljust:"40" %}
              Thema
            {% endfor %}
          </div>
        {% endif %}
      </a>
      <div class="overlay__content font-family-extra">
        {% if event.end_datetime and event.end_datetime.date != event.start_datetime.date %}
          {{ event.start_datetime|nettes_datum }}
          â€“ {{ event.end_datetime|date:"d.m." }}
        {% else %}
          {{ event.start_datetime|nettes_datum }}, {{ event.start_datetime.time }} Uhr
        {% endif %}

        {% if event.website_url %}
          <a class="float-right hover-reveal__hidden" href="{{ event.website_url }}"><i class="icon-share-alt"></i></a>
        {% endif %}
        {% if event.facebook_event_url %}
          <a class="float-right hover-reveal__hidden" href="{{ event.facebook_event_url }}"><i class="icon-social-facebook"></i></a>
        {% endif %}
      </div>
    </div>
  </div>

  <h3 class="{% if event.title|length > 32 %}font-size-small{% else %}font-size-3{% endif %}">
    <a href="{% pageurl event %}">{{ event.title }}</a>
  </h3>
</div>
