/**
 * Block image
 * inside .userim it uses the rim
 * @molecule image
 * @section blocks
 * @markup
 *   <div class="userim">
 *     <div class="block-image">
 *       <img class="block-image__image" src="@{image:1280:650}">
 *       <p class="block-image__caption">Caption</p>
 *       <p class="block-image__attribution">Attribution</p>
 *     </div>
 *     <div class="block-image">
 *       <picture>
 *         <img class="block-image__image block-image__image--full-width" src="@{image:1280:650}">
 *       </picture>
 *       <p class="block-image__caption">Caption</p>
 *       <p class="block-image__attribution">Attribution</p>
 *    </div>
 *  </div>
 */
.block-image {
  margin-bottom: rem-calc(20px);
  margin-top: rem-calc(20px);

  @include above($medium) {
    margin-bottom: rem-calc(40px);
    margin-top: rem-calc(40px);
  }


  .userim & {
    position: relative;
    width: 100vw;
    left: calc( 50% - 50vw );

    @include above(rem-calc(830px)) {
      width: rem-calc(830px);
      margin-left: rem-calc(-95px);
      margin-right: rem-calc(-95px);
      left: inherit;
    }
  }


  .userim &--full-width {
    position: relative;
    width: 100vw;
    left: calc( 50% - 50vw );

    .block-image__wrapper {
      padding-bottom: 62.5%;

      @include above(40em) {
        padding-bottom: 35.15625%;
      }
    }
  }


  &__wrapper {
    background-color: #ddd;
    position: relative;
  }


  &__image {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
  }


  &__caption {
    margin-top: rem-calc(6px);
    font-family: $font-family-serif;
    color: $brown;
    font-style: italic;
    font-size: rem-calc(14px);
    line-height: rem-calc(28px);

    @include above(rem-calc(640px)) {
      max-width: rem-calc(640px);
      margin-left: auto;
      margin-right: auto;
    }

    @include above($medium) {
      margin-top: rem-calc(12px);
      font-size: rem-calc(18px);
      line-height: rem-calc(30.6);
    }
  }

  .userim &__caption {
    @include until($medium) {
      margin-left: $container-margin;
      margin-right: $container-margin;
    }
  }

  &__attribution {
    white-space: nowrap;
    font-family: $font-family-serif;
    color: $grey;
    font-style: normal;
    font-size: rem-calc(12px);
    line-height: rem-calc(28px);

    a {
      color: $grey;
    }

    @include above($medium) {
      font-size: rem-calc(16px);
      line-height: rem-calc(30.6);
    }
  }

}
